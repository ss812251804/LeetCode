<html>
<head>
  <title>给定一个字符串，验证它是否是回文串，只考虑字母和数字字符，可以忽略字母的大小写。</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="502"/>
<h1>给定一个字符串，验证它是否是回文串，只考虑字母和数字字符，可以忽略字母的大小写。</h1>

<div>
<span><div>给定一个字符串，验证它是否是回文串，只考虑字母和数字字符，可以忽略字母的大小写。</div><div>说明：本题中，我们将空字符串定义为有效的回文串。</div><div>示例 1:</div><div>输入: &quot;A man, a plan, a canal: Panama&quot;</div><div>输出: true</div><div>示例 2:</div><div>输入: &quot;race a car&quot;</div><div>输出: false</div><div><br/></div><div>思路一：</div><div>首先将字符串全部小写/大写处理，并记录有效字符串（去除符号空格等），再首尾两端向中间移动，依次比较即可</div><div><br/></div><div>class Solution {</div><div>    public boolean isPalindrome(String s) {</div><div>         if(s == null || s.length()==0){</div><div>                return true;</div><div>            }</div><div>            s = s.toLowerCase();</div><div>            StringBuilder result=new StringBuilder();</div><div>            for(int i=0;i&lt;s.length();i++){</div><div>                if((s.charAt(i)&gt;='a'&amp;&amp;s.charAt(i)&lt;='z' )||(s.charAt(i)&gt;='0'&amp;&amp;s.charAt(i)&lt;='9'))</div><div>                    result.append(s.charAt(i));</div><div>            }</div><div>            if(result.length()==0){</div><div>                return true;</div><div>            }</div><div>            int st = 0;</div><div>            int end = result.length()-1;</div><div>            while(st &lt; end){</div><div>                if(result.charAt(st)!=result.charAt(end))</div><div>                    return false;</div><div>                else{</div><div>                    st++;</div><div>                    end--;</div><div>                }</div><div>            }</div><div>            return true;</div><div><br/></div><div>        </div><div>    }</div><div>}</div><div><br/></div><div>思路二：</div><div>直接比较，跳过非数字和非字母</div><div><br/></div><div><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">char</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">[] c = s.toLowerCase().toCharArray();</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">// 都转成小写，转成字符数组</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">             </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">int</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">j = c.</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt;">length</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">- 1;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">             </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">int</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">i = 0;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">             </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">while</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">(i &lt; j) {</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">while</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">(i &lt; j</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                                 &amp;&amp; !((c[i] &gt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'0'</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">&amp;&amp; c[i] &lt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'9'</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">) || (c[i] &gt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'a'</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">&amp;&amp; c[i] &lt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'z'</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">))) {</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">// 找到一个数字或字母字符</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                           i++;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    }</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">while</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">(i &lt; j</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                                 &amp;&amp; !((c[j] &gt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'0'</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">&amp;&amp; c[j] &lt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'9'</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">) || (c[j] &gt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'a'</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">&amp;&amp; c[j] &lt;=</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(42, 0, 255); font-size: 10pt;">'z'</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">))) {</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                           j--;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    }</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">if</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">(i &lt; c.</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt;">length</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">&amp;&amp; j &gt;= 0 &amp;&amp; c[i] == c[j]) {</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">// 这步不用再去想c[i]是不是数字或字母了，只要相等就i++,j--,</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                           i++;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                           j--;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    }</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">else</span> <span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">{</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">// 不相等就返回</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                           </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; background: #d4d4d4; font-weight: bold;">return</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; background: #d4d4d4; font-weight: bold;">false</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt; background: #d4d4d4;">;</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">                    }</span></div><div style="min-height: 12pt;"><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">             }</span></div><div><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt;">             </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; background: #d4d4d4; font-weight: bold;">return</span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; background: #d4d4d4; font-weight: bold;">true</span><span style="min-height: 12pt; font-family: Consolas; font-size: 10pt; background: #d4d4d4;">;</span></div></span>
</div></body></html> 